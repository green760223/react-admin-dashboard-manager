import{r as i,j as t}from"./index-e21e34ca.js";import{a as f}from"./orderApi-88150b96.js";import{S as n}from"./index-6aff964c.js";function j(){const[o,l]=i.useState(10001);i.useEffect(()=>{c()},[o]);const c=async()=>{const e=await f.getCityData(o);setTimeout(()=>{d(e)})},d=e=>{const a=new window.BMapGL.Map("clusterMap");a.enableScrollWheelZoom();const u=new window.BMapGL.ZoomControl;a.addControl(u);const h={10001:"長沙",20001:"武漢",30001:"杭州",40001:"惠州",50001:"昆明"};a.centerAndZoom(h[o],12);const r=[];for(let s=0;s<e.length;s++){const{lng:m,lat:w}=e[s],x=new window.BMapGL.Point(m,w);r.push(new window.BMapGL.Marker(x))}r.length>0&&new window.BMapLib.MarkerClusterer(a,{markers:r})},p=e=>{l(e)};return t.jsxs("div",{style:{backgroundColor:"fff",padding:10},children:[t.jsxs(n,{style:{width:100,marginBottom:10},value:o,onChange:p,children:[t.jsx(n.Option,{value:10001,children:"長沙"}),t.jsx(n.Option,{value:20001,children:"武漢"}),t.jsx(n.Option,{value:30001,children:"杭州"}),t.jsx(n.Option,{value:40001,children:"惠州"}),t.jsx(n.Option,{value:50001,children:"昆明"})]}),t.jsx("div",{id:"clusterMap",style:{height:"calc(100vh-192px)"}})]})}export{j as default};
